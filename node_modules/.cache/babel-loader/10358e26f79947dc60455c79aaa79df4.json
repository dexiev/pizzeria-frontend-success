{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/Dino-s_Pizzeria/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/User/Desktop/Dino-s_Pizzeria/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/User/Desktop/Dino-s_Pizzeria/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import axios from\"axios\";var LOGIN_USER_KEY=\"LOGIN_USER_KEY\";var baseURL;if(process.env.REACT_APP_ENVIRONMENT&&process.env.REACT_APP_ENVIRONMENT===\"PRODUCTION\"){baseURL=process.env.REACT_APP_API_BASE_URL;}else{// baseURL = \"https://backend-dq-dairyqueen-jithin.herokuapp.com/\";\n// baseURL=\"https://backend-sd-alisha.herokuapp.com/\";\nbaseURL=\"https://pizzeria-backend-success-1.onrender.com\";}var api=axios.create({baseURL:baseURL,headers:{\"Content-Type\":\"application/json\"}});api.interceptors.request.use(function(config){if(localStorage.getItem(LOGIN_USER_KEY)){config.headers.common[\"Authorization\"]=JSON.parse(localStorage.getItem(LOGIN_USER_KEY)).token;}return config;},function(err){console.error(err);});var API=function API(){_classCallCheck(this,API);this.getPosts=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var posts;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get(\"/posts/\").then(function(response){return response.data;}).catch(function(error){throw new Error(error);});case 2:posts=_context.sent;return _context.abrupt(\"return\",posts);case 4:case\"end\":return _context.stop();}}},_callee);}));this.addPost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name,body,image){var formData,savedPost;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formData=new FormData();formData.append(\"name\",name);formData.append(\"body\",body);formData.append(\"image\",image);_context2.next=6;return api.post(\"/posts/add/\",formData).then(function(response){return response.data;}).catch(function(error){throw new Error(error);});case 6:savedPost=_context2.sent;return _context2.abrupt(\"return\",savedPost);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2,_x3){return _ref2.apply(this,arguments);};}();this.deletePost=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return api.delete(\"/posts/delete/\"+id+\"/\").then(function(response){return response.data;}).catch(function(error){throw new Error(error);});case 2:response=_context3.sent;return _context3.abrupt(\"return\",response);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref3.apply(this,arguments);};}();this.getItems=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var url,items;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:url=\"/items/\";_context4.next=3;return api.get(url).then(function(response){return response.data;}).catch(function(error){throw new Error(error);});case 3:items=_context4.sent;return _context4.abrupt(\"return\",items);case 5:case\"end\":return _context4.stop();}}},_callee4);}));this.signUp=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(user_name,email,password){var savedPost;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return api.post(\"/users/signup/\",{user_name:user_name,email:email,password:password}).then(function(response){return response.data;}).catch(function(error){throw new Error(error);});case 2:savedPost=_context5.sent;return _context5.abrupt(\"return\",savedPost);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5,_x6,_x7){return _ref5.apply(this,arguments);};}();this.signIn=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(email,password){var savedPost;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return api.post(\"/users/signin/\",{email:email,password:password}).then(function(response){return response.data;}).catch(function(error){throw new Error(error);});case 2:savedPost=_context6.sent;return _context6.abrupt(\"return\",savedPost);case 4:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x8,_x9){return _ref6.apply(this,arguments);};}();this.getCarts=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var carts;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return api.get(\"carts/\").then(function(response){return response.data;}).catch(function(error){throw new Error(error);});case 2:carts=_context7.sent;return _context7.abrupt(\"return\",carts);case 4:case\"end\":return _context7.stop();}}},_callee7);}));this.addCarts=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(item_id){var savedCart;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return api.post(\"/carts/add/\",{item:item_id,quantity:1}).then(function(response){return response.data;}).catch(function(error){throw new Error(error);});case 2:savedCart=_context8.sent;return _context8.abrupt(\"return\",savedCart);case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x10){return _ref8.apply(this,arguments);};}();this.updateCarts=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(cart_id,quantity){var savedCart;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return api.put(\"/carts/update/\"+cart_id+\"/\",{quantity:quantity}).then(function(response){return response.data;}).catch(function(error){throw new Error(error);});case 2:savedCart=_context9.sent;return _context9.abrupt(\"return\",savedCart);case 4:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x11,_x12){return _ref9.apply(this,arguments);};}();this.deleteCart=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(cart_id){var response;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return api.delete(\"/carts/delete/\"+cart_id+\"/\").then(function(response){return response.data;}).catch(function(error){throw new Error(error);});case 2:response=_context10.sent;return _context10.abrupt(\"return\",response);case 4:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x13){return _ref10.apply(this,arguments);};}();this.orderAdd=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){var params,order,_args11=arguments;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:params=_args11.length>0&&_args11[0]!==undefined?_args11[0]:{};_context11.next=3;return api.post(\"/orders/add/\",params).then(function(response){return response.data;}).catch(function(error){throw new Error(error);});case 3:order=_context11.sent;return _context11.abrupt(\"return\",order);case 5:case\"end\":return _context11.stop();}}},_callee11);}));};export{API as default};","map":{"version":3,"sources":["C:/Users/User/Desktop/Dino-s_Pizzeria/frontend/src/API.js"],"names":["axios","LOGIN_USER_KEY","baseURL","process","env","REACT_APP_ENVIRONMENT","REACT_APP_API_BASE_URL","api","create","headers","interceptors","request","use","config","localStorage","getItem","common","JSON","parse","token","err","console","error","API","getPosts","get","then","response","data","catch","Error","posts","addPost","name","body","image","formData","FormData","append","post","savedPost","deletePost","id","delete","getItems","url","items","signUp","user_name","email","password","signIn","getCarts","carts","addCarts","item_id","item","quantity","savedCart","updateCarts","cart_id","put","deleteCart","orderAdd","params","order"],"mappings":"kYAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,cAAc,CAAG,gBAAvB,CAEA,GAAIC,CAAAA,OAAJ,CACA,GAAIC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,EAAqCF,OAAO,CAACC,GAAR,CAAYC,qBAAZ,GAAsC,YAA/E,CAA6F,CACzFH,OAAO,CAAGC,OAAO,CAACC,GAAR,CAAYE,sBAAtB,CACH,CAFD,IAEO,CACH;AACA;AACAJ,OAAO,CAAE,iDAAT,CACH,CAED,GAAMK,CAAAA,GAAG,CAAGP,KAAK,CAACQ,MAAN,CAAa,CACvBN,OAAO,CAAEA,OADc,CAEvBO,OAAO,CAAE,CACP,eAAgB,kBADT,CAFc,CAAb,CAAZ,CAOAF,GAAG,CAACG,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CACI,SAACC,MAAD,CAAY,CACV,GAAIC,YAAY,CAACC,OAAb,CAAqBd,cAArB,CAAJ,CAA0C,CACxCY,MAAM,CAACJ,OAAP,CAAeO,MAAf,CAAsB,eAAtB,EAAyCC,IAAI,CAACC,KAAL,CACvCJ,YAAY,CAACC,OAAb,CAAqBd,cAArB,CADuC,EAEvCkB,KAFF,CAGD,CACD,MAAON,CAAAA,MAAP,CACD,CARL,CASI,SAACO,GAAD,CAAS,CACPC,OAAO,CAACC,KAAR,CAAcF,GAAd,EACD,CAXL,E,GAcqBG,CAAAA,G,+CACjBC,Q,sEAAW,mKACajB,CAAAA,GAAG,CAClBkB,GADe,CACX,SADW,EAEfC,IAFe,CAEV,SAACC,QAAD,CAAc,CAChB,MAAOA,CAAAA,QAAQ,CAACC,IAAhB,CACH,CAJe,EAKfC,KALe,CAKT,SAACP,KAAD,CAAW,CACd,KAAM,IAAIQ,CAAAA,KAAJ,CAAUR,KAAV,CAAN,CACH,CAPe,CADb,QACDS,KADC,+CASAA,KATA,wD,QAWXC,O,2FAAU,kBAAOC,IAAP,CAAaC,IAAb,CAAmBC,KAAnB,6IACAC,QADA,CACW,GAAIC,CAAAA,QAAJ,EADX,CAEND,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBL,IAAxB,EACAG,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBJ,IAAxB,EACAE,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyBH,KAAzB,EAJM,uBAKkB5B,CAAAA,GAAG,CACtBgC,IADmB,CACd,aADc,CACCH,QADD,EAEnBV,IAFmB,CAEd,SAACC,QAAD,CAAc,CAChB,MAAOA,CAAAA,QAAQ,CAACC,IAAhB,CACH,CAJmB,EAKnBC,KALmB,CAKb,SAACP,KAAD,CAAW,CACd,KAAM,IAAIQ,CAAAA,KAAJ,CAAUR,KAAV,CAAN,CACH,CAPmB,CALlB,QAKAkB,SALA,iDAaCA,SAbD,0D,6EAeVC,U,2FAAa,kBAAOC,EAAP,0JACcnC,CAAAA,GAAG,CACrBoC,MADkB,CACX,iBAAmBD,EAAnB,CAAwB,GADb,EAElBhB,IAFkB,CAEb,SAACC,QAAD,CAAc,CAChB,MAAOA,CAAAA,QAAQ,CAACC,IAAhB,CACH,CAJkB,EAKlBC,KALkB,CAKZ,SAACP,KAAD,CAAW,CACd,KAAM,IAAIQ,CAAAA,KAAJ,CAAUR,KAAV,CAAN,CACH,CAPkB,CADd,QACHK,QADG,iDASFA,QATE,0D,sEAgBjBiB,Q,sEAAW,sJACHC,GADG,CACG,SADH,wBAEatC,CAAAA,GAAG,CAClBkB,GADe,CACXoB,GADW,EAEfnB,IAFe,CAEV,SAACC,QAAD,CAAc,CAChB,MAAOA,CAAAA,QAAQ,CAACC,IAAhB,CACH,CAJe,EAKfC,KALe,CAKT,SAACP,KAAD,CAAW,CACd,KAAM,IAAIQ,CAAAA,KAAJ,CAAUR,KAAV,CAAN,CACH,CAPe,CAFb,QAEDwB,KAFC,iDAUAA,KAVA,0D,QAcXC,M,2FAAS,kBAAOC,SAAP,CAAkBC,KAAlB,CAAyBC,QAAzB,2JACmB3C,CAAAA,GAAG,CACxBgC,IADqB,CAChB,gBADgB,CACE,CACtBS,SAAS,CAAEA,SADW,CAEtBC,KAAK,CAAEA,KAFe,CAGtBC,QAAQ,CAAEA,QAHY,CADF,EAMrBxB,IANqB,CAMhB,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAhB,CACD,CARqB,EASrBC,KATqB,CASf,SAACP,KAAD,CAAW,CAChB,KAAM,IAAIQ,CAAAA,KAAJ,CAAUR,KAAV,CAAN,CACD,CAXqB,CADnB,QACCkB,SADD,iDAaEA,SAbF,0D,8EAiBTW,M,2FAAS,kBAAOF,KAAP,CAAcC,QAAd,2JACmB3C,CAAAA,GAAG,CACxBgC,IADqB,CAChB,gBADgB,CACE,CACtBU,KAAK,CAAEA,KADe,CAEtBC,QAAQ,CAAEA,QAFY,CADF,EAKrBxB,IALqB,CAKhB,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAhB,CACD,CAPqB,EAQrBC,KARqB,CAQf,SAACP,KAAD,CAAW,CAChB,KAAM,IAAIQ,CAAAA,KAAJ,CAAUR,KAAV,CAAN,CACD,CAVqB,CADnB,QACCkB,SADD,iDAYEA,SAZF,0D,0EAePY,Q,sEAAW,yKACW7C,CAAAA,GAAG,CACpBkB,GADiB,CACb,QADa,EAEjBC,IAFiB,CAEZ,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAhB,CACD,CAJiB,EAKjBC,KALiB,CAKX,SAACP,KAAD,CAAW,CAChB,KAAM,IAAIQ,CAAAA,KAAJ,CAAUR,KAAV,CAAN,CACD,CAPiB,CADX,QACH+B,KADG,iDASFA,KATE,0D,QAYXC,Q,2FAAW,kBAAOC,OAAP,2JACehD,CAAAA,GAAG,CACxBgC,IADqB,CAChB,aADgB,CACD,CACnBiB,IAAI,CAAED,OADa,CAEnBE,QAAQ,CAAE,CAFS,CADC,EAKrB/B,IALqB,CAKhB,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAhB,CACD,CAPqB,EAQrBC,KARqB,CAQf,SAACP,KAAD,CAAW,CAChB,KAAM,IAAIQ,CAAAA,KAAJ,CAAUR,KAAV,CAAN,CACD,CAVqB,CADf,QACHoC,SADG,iDAYFA,SAZE,0D,uEAeXC,W,2FAAc,kBAAOC,OAAP,CAAgBH,QAAhB,2JACYlD,CAAAA,GAAG,CACxBsD,GADqB,CACjB,iBAAmBD,OAAnB,CAA6B,GADZ,CACiB,CACrCH,QAAQ,CAAEA,QAD2B,CADjB,EAIrB/B,IAJqB,CAIhB,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAhB,CACD,CANqB,EAOrBC,KAPqB,CAOf,SAACP,KAAD,CAAW,CAChB,KAAM,IAAIQ,CAAAA,KAAJ,CAAUR,KAAV,CAAN,CACD,CATqB,CADZ,QACNoC,SADM,iDAWLA,SAXK,0D,4EAcdI,U,4FAAa,mBAAOF,OAAP,+JACYrD,CAAAA,GAAG,CACvBoC,MADoB,CACb,iBAAmBiB,OAAnB,CAA6B,GADhB,EAEpBlC,IAFoB,CAEf,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAhB,CACD,CAJoB,EAKpBC,KALoB,CAKd,SAACP,KAAD,CAAW,CAChB,KAAM,IAAIQ,CAAAA,KAAJ,CAAUR,KAAV,CAAN,CACD,CAPoB,CADZ,QACLK,QADK,mDASJA,QATI,4D,wEAYboC,Q,sEAAW,gLAAOC,MAAP,qDAAgB,EAAhB,yBACWzD,CAAAA,GAAG,CACpBgC,IADiB,CACZ,cADY,CACIyB,MADJ,EAEjBtC,IAFiB,CAEZ,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAhB,CACD,CAJiB,EAKjBC,KALiB,CAKX,SAACP,KAAD,CAAW,CAChB,KAAM,IAAIQ,CAAAA,KAAJ,CAAUR,KAAV,CAAN,CACD,CAPiB,CADX,QACH2C,KADG,mDASFA,KATE,4D,YA9IQ1C,G","sourcesContent":["import axios from \"axios\";\n\nconst LOGIN_USER_KEY = \"LOGIN_USER_KEY\"\n\nvar baseURL;\nif (process.env.REACT_APP_ENVIRONMENT && process.env.REACT_APP_ENVIRONMENT === \"PRODUCTION\") {\n    baseURL = process.env.REACT_APP_API_BASE_URL;\n} else {\n    // baseURL = \"https://backend-dq-dairyqueen-jithin.herokuapp.com/\";\n    // baseURL=\"https://backend-sd-alisha.herokuapp.com/\";\n    baseURL= \"https://pizzeria-backend-success-1.onrender.com\"\n}\n\nconst api = axios.create({\n  baseURL: baseURL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\napi.interceptors.request.use(\n    (config) => {\n      if (localStorage.getItem(LOGIN_USER_KEY)) {\n        config.headers.common[\"Authorization\"] = JSON.parse(\n          localStorage.getItem(LOGIN_USER_KEY)\n        ).token;\n      }\n      return config;\n    },\n    (err) => {\n      console.error(err);\n    }\n  );\n\nexport default class API {\n    getPosts = async () => {\n        const posts = await api\n            .get(\"/posts/\")\n            .then((response) => {\n                return response.data\n            })\n            .catch((error) => {\n                throw new Error(error)\n            })\n        return posts\n    }\n    addPost = async (name, body, image) => {\n        const formData = new FormData();\n        formData.append(\"name\", name);\n        formData.append(\"body\", body);\n        formData.append(\"image\", image);\n        const savedPost = await api\n            .post(\"/posts/add/\", formData)\n            .then((response) => {\n                return response.data\n            })\n            .catch((error) => {\n                throw new Error(error)\n            })\n        return savedPost\n    }\n    deletePost = async (id) => {\n        const response = await api\n            .delete(\"/posts/delete/\" + id + \"/\")\n            .then((response) => {\n                return response.data\n            })\n            .catch((error) => {\n                throw new Error(error)\n            })\n        return response\n    }\n\n// ///////////////////////////////\n// ITEM\n// //////////////////////////////\n\ngetItems = async () => {\n    let url = \"/items/\"\n    const items = await api\n        .get(url)\n        .then((response) => {\n            return response.data\n        })\n        .catch((error) => {\n            throw new Error(error)\n        });\n    return items\n}\n\n\nsignUp = async (user_name, email, password) => {\n    const savedPost = await api\n      .post(\"/users/signup/\", {\n        user_name: user_name,\n        email: email,\n        password: password,\n      })\n      .then((response) => {\n        return response.data;\n      })\n      .catch((error) => {\n        throw new Error(error);\n      });\n    return savedPost;\n  };\n\n\nsignIn = async (email, password) => {\n    const savedPost = await api\n      .post(\"/users/signin/\", {\n        email: email,\n        password: password,\n      })\n      .then((response) => {\n        return response.data;\n      })\n      .catch((error) => {\n        throw new Error(error);\n      });\n    return savedPost;\n  };\n\n  getCarts = async () => {\n    const carts = await api\n      .get(\"carts/\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((error) => {\n        throw new Error(error);\n      });\n    return carts;\n  };\n  \n  addCarts = async (item_id) => {\n    const savedCart = await api\n      .post(\"/carts/add/\", {\n        item: item_id,\n        quantity: 1,\n      })\n      .then((response) => {\n        return response.data;\n      })\n      .catch((error) => {\n        throw new Error(error);\n      });\n    return savedCart;\n  };\n\n  updateCarts = async (cart_id, quantity) => {\n    const savedCart = await api\n      .put(\"/carts/update/\" + cart_id + \"/\", {\n        quantity: quantity,\n      })\n      .then((response) => {\n        return response.data;\n      })\n      .catch((error) => {\n        throw new Error(error);\n      });\n    return savedCart;\n  };\n\n  deleteCart = async (cart_id) => {\n    const response = await api\n      .delete(\"/carts/delete/\" + cart_id + \"/\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((error) => {\n        throw new Error(error);\n      });\n    return response;\n  };\n\n  orderAdd = async (params = {}) => {\n    const order = await api\n      .post(\"/orders/add/\", params)\n      .then((response) => {\n        return response.data;\n      })\n      .catch((error) => {\n        throw new Error(error);\n      });\n    return order;\n  };\n}\n\n"]},"metadata":{},"sourceType":"module"}
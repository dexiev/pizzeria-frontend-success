{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{addCart,increaseCart,decreaseCart}from\"../../reducks/carts/operations\";import{getCarts,getSubtotal}from\"../../reducks/carts/selectors\";import{push}from\"connected-react-router\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Item(_ref){let{item}=_ref;const selector=useSelector(state=>state);const dispatch=useDispatch();const carts=getCarts(selector);const subtotal=getSubtotal(selector);const[particularCart,setParticularCart]=useState(null);const key=localStorage.getItem(\"LOGIN_USER_KEY\");useEffect(()=>{if(carts!=undefined&&carts.length>0){console.log(\"carts\");console.log(carts);let matchedCarts=carts.filter(cart=>cart.item.id==item.id);console.log(\"matchedCarts\");console.log(matchedCarts);if(matchedCarts.length>0){setParticularCart(matchedCarts[0]);}else{setParticularCart(null);}}},[subtotal]);const clickAddCart=()=>{// if (key) {\ndispatch(addCart(item));// } else {\n//   dispatch(push(\"/signin\"));\n};const clickPlusCart=()=>{dispatch(increaseCart(particularCart.id));};const clickMinusCart=()=>{dispatch(decreaseCart(particularCart.id));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"pizza-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsxs(\"div\",{class:\"price\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\" $ \",item.price]}),particularCart&&particularCart.quantity>0?/*#__PURE__*/_jsxs(\"div\",{class:\"add-btn\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"minus\",onClick:clickMinusCart,children:\"\\uFF0D\"}),/*#__PURE__*/_jsxs(\"span\",{class:\"count\",children:[particularCart.quantity,\" \"]}),/*#__PURE__*/_jsx(\"span\",{class:\"plus\",onClick:clickPlusCart,children:\"+\"})]}):/*#__PURE__*/_jsx(\"button\",{class:\"add-btn\",onClick:clickAddCart,children:\"Add +\"})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","addCart","increaseCart","decreaseCart","getCarts","getSubtotal","push","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Item","_ref","item","selector","state","dispatch","carts","subtotal","particularCart","setParticularCart","key","localStorage","getItem","undefined","length","console","log","matchedCarts","filter","cart","id","clickAddCart","clickPlusCart","clickMinusCart","children","class","src","image","alt","name","description","price","quantity","onClick"],"sources":["C:/Users/User/Desktop/Dino-s_Pizzeria/frontend/src/components/Common/Item.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  addCart,\n  increaseCart,\n  decreaseCart,\n} from \"../../reducks/carts/operations\";\nimport { getCarts, getSubtotal } from \"../../reducks/carts/selectors\";\nimport {push} from \"connected-react-router\"\n\nexport default function Item({item}) {\n  const selector = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const carts = getCarts(selector);\n  const subtotal = getSubtotal(selector);\n  const [particularCart, setParticularCart] = useState(null);\n  const key = localStorage.getItem(\"LOGIN_USER_KEY\");\n\n  useEffect(() => {\n    if (carts != undefined && carts.length > 0) {\n      console.log(\"carts\");\n      console.log(carts);\n      let matchedCarts = carts.filter((cart) => cart.item.id == item.id);\n      console.log(\"matchedCarts\");\n      console.log(matchedCarts);\n      if (matchedCarts.length > 0) {\n        setParticularCart(matchedCarts[0]);\n      } else {\n        setParticularCart(null);\n      }\n    }\n  }, [subtotal]);\n\n  const clickAddCart = () => {\n    // if (key) {\n      dispatch(addCart(item));\n    // } else {\n    //   dispatch(push(\"/signin\"));\n    }\n\n  const clickPlusCart = () => {\n    dispatch(increaseCart(particularCart.id));\n  };\n  const clickMinusCart = () => {\n    dispatch(decreaseCart(particularCart.id));\n  };\n\n    return (\n        <>\n        \n     \n        <div class=\"pizza-1\">\n        <img src={item.image} alt=\"\" />\n        <h3>{item.name}</h3>\n        <br></br>\n        <p>{item.description}</p>\n        <div class=\"price\">\n          <h4> $ {item.price}</h4>\n          {particularCart && particularCart.quantity > 0 ? (\n            <div class=\"add-btn\">\n              <span class=\"minus\" onClick={clickMinusCart}>\n                Ôºç\n              </span>\n              <span class=\"count\">{particularCart.quantity} </span>\n              <span class=\"plus\" onClick={clickPlusCart}>\n                +\n              </span>\n            </div>\n          ) : (\n            <button class=\"add-btn\" onClick={clickAddCart}>\n              Add +\n            </button>\n          )}\n      </div>\n      </div>\n  \n      \n    </>\n        \n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _slicedToArray from\"C:/Users/User/Desktop/Dino-s_Pizzeria/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{addCart,increaseCart,decreaseCart}from\"../../reducks/carts/operations\";import{getCarts,getSubtotal}from\"../../reducks/carts/selectors\";import{push}from\"connected-react-router\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Item(_ref){var item=_ref.item;var selector=useSelector(function(state){return state;});var dispatch=useDispatch();var carts=getCarts(selector);var subtotal=getSubtotal(selector);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),particularCart=_useState2[0],setParticularCart=_useState2[1];var key=localStorage.getItem(\"LOGIN_USER_KEY\");useEffect(function(){if(carts!=undefined&&carts.length>0){console.log(\"carts\");console.log(carts);var matchedCarts=carts.filter(function(cart){return cart.item.id==item.id;});console.log(\"matchedCarts\");console.log(matchedCarts);if(matchedCarts.length>0){setParticularCart(matchedCarts[0]);}else{setParticularCart(null);}}},[subtotal]);var clickAddCart=function clickAddCart(){// if (key) {\ndispatch(addCart(item));// } else {\n//   dispatch(push(\"/signin\"));\n};var clickPlusCart=function clickPlusCart(){dispatch(increaseCart(particularCart.id));};var clickMinusCart=function clickMinusCart(){dispatch(decreaseCart(particularCart.id));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"pizza-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsxs(\"div\",{class:\"price\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\" $ \",item.price]}),particularCart&&particularCart.quantity>0?/*#__PURE__*/_jsxs(\"div\",{class:\"add-btn\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"minus\",onClick:clickMinusCart,children:\"\\uFF0D\"}),/*#__PURE__*/_jsxs(\"span\",{class:\"count\",children:[particularCart.quantity,\" \"]}),/*#__PURE__*/_jsx(\"span\",{class:\"plus\",onClick:clickPlusCart,children:\"+\"})]}):/*#__PURE__*/_jsx(\"button\",{class:\"add-btn\",onClick:clickAddCart,children:\"Add +\"})]})]})});}","map":{"version":3,"sources":["C:/Users/User/Desktop/Dino-s_Pizzeria/frontend/src/components/Common/Item.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","addCart","increaseCart","decreaseCart","getCarts","getSubtotal","push","Item","item","selector","state","dispatch","carts","subtotal","particularCart","setParticularCart","key","localStorage","getItem","undefined","length","console","log","matchedCarts","filter","cart","id","clickAddCart","clickPlusCart","clickMinusCart","image","name","description","price","quantity"],"mappings":"iIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OACEC,OADF,CAEEC,YAFF,CAGEC,YAHF,KAIO,gCAJP,CAKA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,+BAAtC,CACA,OAAQC,IAAR,KAAmB,wBAAnB,C,6IAEA,cAAe,SAASC,CAAAA,IAAT,MAAsB,IAAPC,CAAAA,IAAO,MAAPA,IAAO,CACnC,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,CAAC,SAACU,KAAD,QAAWA,CAAAA,KAAX,EAAD,CAA5B,CACA,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CACA,GAAMa,CAAAA,KAAK,CAAGR,QAAQ,CAACK,QAAD,CAAtB,CACA,GAAMI,CAAAA,QAAQ,CAAGR,WAAW,CAACI,QAAD,CAA5B,CACA,cAA4CX,QAAQ,CAAC,IAAD,CAApD,wCAAOgB,cAAP,eAAuBC,iBAAvB,eACA,GAAMC,CAAAA,GAAG,CAAGC,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAZ,CAEArB,SAAS,CAAC,UAAM,CACd,GAAIe,KAAK,EAAIO,SAAT,EAAsBP,KAAK,CAACQ,MAAN,CAAe,CAAzC,CAA4C,CAC1CC,OAAO,CAACC,GAAR,CAAY,OAAZ,EACAD,OAAO,CAACC,GAAR,CAAYV,KAAZ,EACA,GAAIW,CAAAA,YAAY,CAAGX,KAAK,CAACY,MAAN,CAAa,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACjB,IAAL,CAAUkB,EAAV,EAAgBlB,IAAI,CAACkB,EAA/B,EAAb,CAAnB,CACAL,OAAO,CAACC,GAAR,CAAY,cAAZ,EACAD,OAAO,CAACC,GAAR,CAAYC,YAAZ,EACA,GAAIA,YAAY,CAACH,MAAb,CAAsB,CAA1B,CAA6B,CAC3BL,iBAAiB,CAACQ,YAAY,CAAC,CAAD,CAAb,CAAjB,CACD,CAFD,IAEO,CACLR,iBAAiB,CAAC,IAAD,CAAjB,CACD,CACF,CACF,CAbQ,CAaN,CAACF,QAAD,CAbM,CAAT,CAeA,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB;AACEhB,QAAQ,CAACV,OAAO,CAACO,IAAD,CAAR,CAAR,CACF;AACA;AACC,CALH,CAOA,GAAMoB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BjB,QAAQ,CAACT,YAAY,CAACY,cAAc,CAACY,EAAhB,CAAb,CAAR,CACD,CAFD,CAGA,GAAMG,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BlB,QAAQ,CAACR,YAAY,CAACW,cAAc,CAACY,EAAhB,CAAb,CAAR,CACD,CAFD,CAIE,mBACI,sCAGA,aAAK,KAAK,CAAC,SAAX,wBACA,YAAK,GAAG,CAAElB,IAAI,CAACsB,KAAf,CAAsB,GAAG,CAAC,EAA1B,EADA,cAEA,oBAAKtB,IAAI,CAACuB,IAAV,EAFA,cAGA,aAHA,cAIA,mBAAIvB,IAAI,CAACwB,WAAT,EAJA,cAKA,aAAK,KAAK,CAAC,OAAX,wBACE,sBAAI,KAAJ,CAAQxB,IAAI,CAACyB,KAAb,GADF,CAEGnB,cAAc,EAAIA,cAAc,CAACoB,QAAf,CAA0B,CAA5C,cACC,aAAK,KAAK,CAAC,SAAX,wBACE,aAAM,KAAK,CAAC,OAAZ,CAAoB,OAAO,CAAEL,cAA7B,UAA6C,QAA7C,EADF,cAIE,cAAM,KAAK,CAAC,OAAZ,WAAqBf,cAAc,CAACoB,QAApC,CAA6C,GAA7C,GAJF,cAKE,aAAM,KAAK,CAAC,MAAZ,CAAmB,OAAO,CAAEN,aAA5B,UAA2C,GAA3C,EALF,GADD,cAWC,eAAQ,KAAK,CAAC,SAAd,CAAwB,OAAO,CAAED,YAAjC,UAA+C,OAA/C,EAbJ,GALA,GAHA,EADJ,CAiCH","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  addCart,\n  increaseCart,\n  decreaseCart,\n} from \"../../reducks/carts/operations\";\nimport { getCarts, getSubtotal } from \"../../reducks/carts/selectors\";\nimport {push} from \"connected-react-router\"\n\nexport default function Item({item}) {\n  const selector = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const carts = getCarts(selector);\n  const subtotal = getSubtotal(selector);\n  const [particularCart, setParticularCart] = useState(null);\n  const key = localStorage.getItem(\"LOGIN_USER_KEY\");\n\n  useEffect(() => {\n    if (carts != undefined && carts.length > 0) {\n      console.log(\"carts\");\n      console.log(carts);\n      let matchedCarts = carts.filter((cart) => cart.item.id == item.id);\n      console.log(\"matchedCarts\");\n      console.log(matchedCarts);\n      if (matchedCarts.length > 0) {\n        setParticularCart(matchedCarts[0]);\n      } else {\n        setParticularCart(null);\n      }\n    }\n  }, [subtotal]);\n\n  const clickAddCart = () => {\n    // if (key) {\n      dispatch(addCart(item));\n    // } else {\n    //   dispatch(push(\"/signin\"));\n    }\n\n  const clickPlusCart = () => {\n    dispatch(increaseCart(particularCart.id));\n  };\n  const clickMinusCart = () => {\n    dispatch(decreaseCart(particularCart.id));\n  };\n\n    return (\n        <>\n        \n     \n        <div class=\"pizza-1\">\n        <img src={item.image} alt=\"\" />\n        <h3>{item.name}</h3>\n        <br></br>\n        <p>{item.description}</p>\n        <div class=\"price\">\n          <h4> $ {item.price}</h4>\n          {particularCart && particularCart.quantity > 0 ? (\n            <div class=\"add-btn\">\n              <span class=\"minus\" onClick={clickMinusCart}>\n                Ôºç\n              </span>\n              <span class=\"count\">{particularCart.quantity} </span>\n              <span class=\"plus\" onClick={clickPlusCart}>\n                +\n              </span>\n            </div>\n          ) : (\n            <button class=\"add-btn\" onClick={clickAddCart}>\n              Add +\n            </button>\n          )}\n      </div>\n      </div>\n  \n      \n    </>\n        \n    )\n}\n"]},"metadata":{},"sourceType":"module"}